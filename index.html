<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LOVE MOCHI</title>

<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:'Segoe UI',sans-serif;
}

body{
  height:100vh;
  overflow:hidden;
  background:#fff;
}

/* âœ¨ Sao + tim bay */
.float{
  position:absolute;
  font-size:14px;
  animation: fly 6s infinite ease-in-out;
  opacity:0.6;
}
@keyframes fly{
  0%{transform:translateY(0)}
  50%{transform:translateY(-30px)}
  100%{transform:translateY(0)}
}

/* ===== INTRO ===== */
#intro{
  position:fixed;
  inset:0;
  background:linear-gradient(180deg,#ffe6f1,#fff);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  z-index:10;
}

.logo{
  font-size:46px;
  font-weight:800;
  color:#ff8fb8;
  letter-spacing:2px;
  animation:pulse 1.5s infinite alternate;
}

@keyframes pulse{
  from{transform:scale(1)}
  to{transform:scale(1.08)}
}

.tap{
  margin-top:14px;
  color:#ff9ec6;
  animation:blink 1.2s infinite;
}
@keyframes blink{
  0%,100%{opacity:1}
  50%{opacity:0.4}
}

/* ===== APP ===== */
#app{
  position:fixed;
  inset:0;
  display:none;
  background:linear-gradient(180deg,#ffd1e6,#ffebf4);
  align-items:center;
  justify-content:center;
  animation:fade 1s ease;
}

@keyframes fade{
  from{opacity:0}
  to{opacity:1}
}

.phone{
  width:240px;
  height:420px;
  border-radius:40px;
  background:linear-gradient(180deg,#fff,#ffe6f1);
  box-shadow:0 0 35px rgba(255,120,180,0.5);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  animation:pop 1s ease;
}

@keyframes pop{
  from{transform:scale(0)}
  to{transform:scale(1)}
}

.heart{
  font-size:70px;
  animation:beat 1s infinite;
}
@keyframes beat{
  0%{transform:scale(1)}
  50%{transform:scale(1.25)}
  100%{transform:scale(1)}
}

.enter{
  margin-top:20px;
  color:#ff6fa7;
  font-size:15px;
  animation:blink 1.3s infinite;
}

/* ===== Báº¢NG THÃ”NG BÃO ===== */
#rule{
  position:fixed;
  inset:0;
  display:none;
  background:linear-gradient(180deg,#ffb7d5,#ffe6f1);
  align-items:center;
  justify-content:center;
}

.board{
  width:85%;
  max-width:360px;
  background:#fff;
  border-radius:26px;
  padding:22px;
  box-shadow:0 0 40px rgba(255,120,180,0.45);
  animation:rise 1.2s ease;
}

@keyframes rise{
  from{opacity:0;transform:translateY(40px)}
  to{opacity:1;transform:translateY(0)}
}

.board h2{
  color:#ff6fa7;
  text-align:center;
  margin-bottom:12px;
}

.board p{
  font-size:14px;
  line-height:1.6;
  color:#555;
}

.glow{
  text-shadow:0 0 8px #ffb7d5;
}

.ok{
  margin-top:18px;
  text-align:center;
  color:#ff6fa7;
  font-weight:600;
  animation:blink 1.4s infinite;
}
</style>
</head>

<body>

<script>
const icons=["âœ¨","â­","ğŸ’—","ğŸŒ¸"];
for(let i=0;i<30;i++){
  let f=document.createElement("div");
  f.className="float";
  f.innerText=icons[Math.floor(Math.random()*icons.length)];
  f.style.left=Math.random()*100+"vw";
  f.style.top=Math.random()*100+"vh";
  f.style.animationDelay=Math.random()*5+"s";
  document.body.appendChild(f);
}
</script>

<!-- INTRO -->
<div id="intro" onclick="goApp()">
  <div class="logo">ğŸ’—ğŸŒ·</div>
  <div class="tap">Cháº¡m Ä‘á»ƒ báº¯t Ä‘áº§u káº¿t ná»‘i ğŸ’—</div>
</div>

<!-- APP -->
<div id="app" onclick="goRule()">
  <div class="phone">
    <div class="heart">mochi loveğŸ’–</div>
    <div class="enter">Cháº¡m láº§n ná»¯a Ä‘á»ƒ tiáº¿p tá»¥c</div>
  </div>
</div>

<!-- RULE -->
<div id="rule">
  <div class="board">
    <h2 class="glow">CHÃ€O Má»ªNG Äáº¾N LOVE MOCHI!</h2>
    <p>
      Báº¡n lÃ  <b>ngÆ°á»i Ä‘Æ°á»£c chá»n</b>! ğŸ’—<br><br>
      Quy táº¯c ráº¥t Ä‘Æ¡n giáº£n: báº¡n sáº½ chat vá»›i nhá»¯ng nhÃ¢n váº­t vÃ  hoÃ n thÃ nh nhiá»‡m vá»¥ mÃ  <b>Mochi</b> Ä‘Æ°a ra.<br><br>
      Náº¿u hoÃ n thÃ nh nhiá»‡m vá»¥, báº¡n sáº½ nháº­n <b>hoa ğŸŒ¸</b> vÃ  tÃ­ch Ä‘iá»ƒm Ä‘á»ƒ mua nhá»¯ng váº­t pháº©m, chá»©c nÄƒng tuyá»‡t vá»i!<br><br>
      Tuy nhiÃªn, náº¿u tháº¥t báº¡i báº¡n sáº½ bá»‹ <b>- hoa</b> vÃ  <b>cáº¥m lÃ m nhiá»‡m vá»¥</b>. LÃºc nÃ y báº¡n chá»‰ cÃ³ thá»ƒ chat vá»›i char thÆ°á»ng.<br><br>
      Char thÆ°á»ng cáº§n tÃ­ch hoa. Muá»‘n cÃ³ hoa, má»—i ngÃ y Ä‘Äƒng nháº­p báº¡n sáº½ nháº­n <b>10 hoa</b> ğŸŒ¸
    </p>
    <div class="ok">Cháº¡m Ä‘á»ƒ báº¯t Ä‘áº§u hÃ nh trÃ¬nh âœ¨</div>
  </div>
</div>

<script>
function goApp(){
  intro.style.display="none";
  app.style.display="flex";
}
function goRule(){
  app.style.display="none";
  rule.style.display="flex";
}
</script>
<style>
/* ===== ÄIá»‚M DANH ===== */
#daily{
  position:fixed;
  inset:0;
  display:none;
  background:linear-gradient(180deg,#ffd1e6,#fff);
  align-items:center;
  justify-content:center;
  z-index:9;
}

.daily-board{
  width:90%;
  max-width:360px;
  background:#fff;
  border-radius:26px;
  padding:22px;
  box-shadow:0 0 40px rgba(255,120,180,.45);
  animation:rise 1s ease;
}

.daily-board h2{
  text-align:center;
  color:#ff6fa7;
}

.days{
  display:flex;
  gap:10px;
  margin:15px 0;
}

.day{
  flex:1;
  padding:14px;
  text-align:center;
  background:#fff5fa;
  border-radius:18px;
  font-size:13px;
}

.day.lock{opacity:.4}

.claim{
  background:#ff6fa7;
  color:#fff;
  padding:12px;
  text-align:center;
  border-radius:20px;
  font-weight:600;
  animation:blink 1.3s infinite;
}

/* ===== CHAR ===== */
#chars{
  position:fixed;
  inset:0;
  display:none;
  background:linear-gradient(180deg,#ffe0ef,#fff);
  overflow-y:auto;
  padding-bottom:30px;
}

.char-header{
  text-align:center;
  padding:14px;
  font-weight:700;
  color:#ff6fa7;
  background:#fff;
  box-shadow:0 3px 10px rgba(255,150,190,.3);
}

.flower-count{
  font-size:13px;
  margin-top:4px;
}

.list{
  padding:14px;
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:14px;
}

.card{
  background:#fff;
  border-radius:18px;
  overflow:hidden;
  box-shadow:0 6px 18px rgba(255,120,180,.3);
  position:relative;
}

.card img{
  width:100%;
  height:160px;
  object-fit:cover;
}

.name{
  text-align:center;
  padding:8px;
  color:#ff6fa7;
  font-weight:600;
}

.lock{
  position:absolute;
  inset:0;
  background:rgba(255,210,230,.85);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  font-size:13px;
  color:#ff4f90;
}
</style>

<!-- ===== ÄIá»‚M DANH ===== -->
<div id="daily">
  <div class="daily-board">
    <h2>ğŸŒ¸ Äiá»ƒm danh háº±ng ngÃ y</h2>
    <div class="days">
      <div class="day lock">ğŸ”’<br>NgÃ y 1</div>
      <div class="day lock">ğŸ”’<br>NgÃ y 2</div>
      <div class="day">ğŸŒ¸<br>+10 Hoa</div>
    </div>
    <div class="claim" onclick="claimFlower()">Nháº­n 10 ğŸŒ¸</div>
  </div>
</div>

<!-- ===== CHá»ŒN NHÃ‚N Váº¬T ===== -->
<div id="chars">
  <div class="char-header">
    ğŸŒ¸ NhÃ¢n váº­t LOVE MOCHI
    <div class="flower-count">Hoa hiá»‡n cÃ³: <span id="flower">0</span> ğŸŒ¸</div>
  </div>

  <div class="list">
    <div class="card">
      <img src="https://i.imgur.com/8Qf4F6y.jpg">
      <div class="lock">ğŸ”’ Cáº§n 5 ğŸŒ¸</div>
      <div class="name">Kael</div>
    </div>

    <div class="card">
      <img src="https://i.imgur.com/3sY3X5H.jpg">
      <div class="lock">ğŸ”’ Cáº§n 5 ğŸŒ¸</div>
      <div class="name">Yáº¿n TuÃ¢n</div>
    </div>

    <div class="card">
      <img src="https://i.imgur.com/BxGz5cQ.jpg">
      <div class="lock">ğŸ”’ Cáº§n 5 ğŸŒ¸</div>
      <div class="name">Mochi</div>
    </div>

    <div class="card">
      <img src="https://i.imgur.com/TmYJz6Y.jpg">
      <div class="lock">ğŸ”’ Cáº§n 5 ğŸŒ¸</div>
      <div class="name">Noel</div>
    </div>
  </div>
</div>

<script>
let flowers = Number(localStorage.getItem("flowers")) || 0;
document.getElementById("flower").innerText = flowers;

// sau báº£ng rule â†’ má»Ÿ Ä‘iá»ƒm danh
document.querySelector(".ok").onclick = ()=>{
  rule.style.display="none";
  daily.style.display="flex";
};

function claimFlower(){
  flowers += 10;
  localStorage.setItem("flowers",flowers);
  document.getElementById("flower").innerText = flowers;
  daily.style.display="none";
  chars.style.display="block";
}
  </script>
  <!-- ===== CHAT ===== -->
<style>
#chat{
  position:fixed;
  inset:0;
  display:none;
  background:linear-gradient(180deg,#ffe6f1,#fff);
  flex-direction:column;
}

.chat-header{
  padding:14px;
  background:#fff;
  box-shadow:0 3px 10px rgba(255,150,190,.3);
  text-align:center;
  font-weight:700;
  color:#ff6fa7;
}

.chat-box{
  flex:1;
  padding:14px;
  overflow-y:auto;
  font-size:14px;
  color:#444;
}

.msg{
  background:#fff;
  padding:10px 14px;
  border-radius:18px;
  margin-bottom:10px;
  width:fit-content;
  max-width:80%;
  box-shadow:0 0 12px rgba(255,150,190,.25);
  animation:rise .5s ease;
}

.msg.char{border-top-left-radius:6px}
.msg.user{
  margin-left:auto;
  background:#ff6fa7;
  color:#fff;
  border-top-right-radius:6px;
}

.input{
  display:flex;
  padding:10px;
  gap:8px;
}

.input input{
  flex:1;
  border:none;
  padding:10px;
  border-radius:18px;
  outline:none;
  box-shadow:0 0 8px rgba(255,150,190,.3);
}

.input button{
  background:#ff6fa7;
  border:none;
  color:#fff;
  padding:0 16px;
  border-radius:18px;
}
</style>

<div id="chat">
  <div class="chat-header" id="chatName">Mochi â€“ Thiá»‡n cáº£m: <span id="affection">0</span></div>
  <div class="chat-box" id="chatBox">
    <div class="msg char">ChÃ o em~ Anh lÃ  Mochi Ä‘Ã¢y ğŸ’—</div>
  </div>
  <div class="input">
    <input id="chatInput" placeholder="Nháº­p tin nháº¯n...">
    <button onclick="sendMsg()">Gá»­i</button>
  </div>
</div>

<script>
// Hoa vÃ  tráº¡ng thÃ¡i unlock
let flowers = Number(localStorage.getItem("flowers")) || 0;
let unlocked = JSON.parse(localStorage.getItem("unlocked") || "[]");
let affection = JSON.parse(localStorage.getItem("affection") || "{}");

// Gáº¯n click cho card
document.querySelectorAll(".card").forEach(card=>{
  let lock = card.querySelector(".lock");
  let name = card.querySelector(".name").innerText;

  // Náº¿u má»Ÿ rá»“i â†’ áº©n lock
  if(unlocked.includes(name)) lock.style.display="none";

  card.onclick = ()=>{
    if(unlocked.includes(name)){
      openChat(name);
      return;
    }

    if(flowers >= 5){
      if(confirm(`Má»Ÿ khÃ³a ${name} vá»›i 5 ğŸŒ¸?`)){
        flowers -=5;
        localStorage.setItem("flowers",flowers);
        document.getElementById("flower").innerText = flowers;

        unlocked.push(name);
        localStorage.setItem("unlocked",JSON.stringify(unlocked));
        lock.style.display="none";

        // Khá»Ÿi táº¡o thiá»‡n cáº£m = 0
        affection[name] = 0;
        localStorage.setItem("affection",JSON.stringify(affection));

        openChat(name);
      }
    } else {
      alert("ChÆ°a Ä‘á»§ hoa ğŸŒ¸!");
    }
  }
});

// Má»Ÿ chat
function openChat(name){
  chars.style.display="none";
  chat.style.display="flex";
  document.getElementById("chatName").innerHTML = `${name} â€“ Thiá»‡n cáº£m: <span id="affection">${affection[name] || 0}</span>`;
  document.getElementById("chatBox").innerHTML = `<div class="msg char">ChÃ o em~ Anh lÃ  ${name} ğŸ’—</div>`;
}

// Gá»­i tin nháº¯n
function sendMsg(){
  let input = document.getElementById("chatInput");
  let text = input.value.trim();
  if(!text) return;
  
  // ThÃªm tin nháº¯n ngÆ°á»i dÃ¹ng
  let userMsg = document.createElement("div");
  userMsg.className="msg user";
  userMsg.innerText=text;
  document.getElementById("chatBox").appendChild(userMsg);

  // Mock pháº£n há»“i char (ngáº«u nhiÃªn thiá»‡n cáº£m tÄƒng/giáº£m)
  let charMsg = document.createElement("div");
  charMsg.className="msg char";

  let delta = Math.random() <0.6 ? 1 : -1; // 60% tÄƒng, 40% giáº£m
  affection[document.getElementById("chatName").innerText.split(" â€“ ")[0]] += delta;
  let aff = affection[document.getElementById("chatName").innerText.split(" â€“ ")[0]];
  if(aff <0) aff=0;
  affection[document.getElementById("chatName").innerText.split(" â€“ ")[0]] = aff;
  localStorage.setItem("affection",JSON.stringify(affection));

  document.getElementById("chatName").innerHTML = `${document.getElementById("chatName").innerText.split(" â€“ ")[0]} â€“ Thiá»‡n cáº£m: <span id="affection">${aff}</span>`;

  charMsg.innerText = delta>0 ? "ğŸ˜Š Anh thÃ­ch Ä‘iá»u Ä‘Ã³!" : "ğŸ˜… Anh khÃ´ng hÃ i lÃ²ng!";
  document.getElementById("chatBox").appendChild(charMsg);

  input.value="";
  document.getElementById("chatBox").scrollTop = document.getElementById("chatBox").scrollHeight;
}
</script>
</body>
  </html>
